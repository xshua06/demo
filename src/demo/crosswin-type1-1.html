<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>html5 跨窗口通信</title>
	</head>
	
	<body>
		<button id="send">发送</button>
		<script>
			(function(win){
				document.querySelector("#send").onclick = function(){
					win.opener && win.opener.postMessage("viewport1 to viewport2", "http://demo.net");
				}
				win.onmessage = function(e){
					console.info(e.data);
				}
				win.opener && win.opener.postMessage("初始化viewport1", "http://demo.net");
			})(window);
		</script>
	</body>
</html>